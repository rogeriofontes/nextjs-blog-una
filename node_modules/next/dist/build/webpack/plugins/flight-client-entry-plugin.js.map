{"version":3,"sources":["../../../../src/build/webpack/plugins/flight-client-entry-plugin.ts"],"names":["PLUGIN_NAME","pluginState","getProxiedPluginState","serverActions","edgeServerActions","actionModId","serverCSSManifest","edgeServerCSSManifest","serverModuleIds","edgeServerModuleIds","ASYNC_CLIENT_MODULES","injectedClientEntries","ClientReferenceEntryPlugin","constructor","options","dev","appDir","isEdgeServer","useExperimentalReact","apply","compiler","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","webpack","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapPromise","createClientEntries","afterCompile","recordModule","modId","mod","modResource","resourceResolveData","path","resource","layer","WEBPACK_LAYERS","client","ssrNamedModuleId","relative","context","startsWith","normalizePathSep","replace","traverseModules","_chunk","_chunkGroup","request","buildInfo","rsc","moduleGraph","isAsync","push","String","make","processAssets","name","stage","Compilation","PROCESS_ASSETS_STAGE_OPTIMIZE_HASH","assets","createAsset","addClientEntryAndSSRModulesList","addActionEntryList","forEachEntryModule","entryModule","internalClientComponentEntryImports","Set","actionEntryImports","Map","connection","getOutgoingConnections","entryDependency","dependency","entryRequest","clientImports","actionImports","collectComponentInfoFromDependencies","forEach","dep","names","isAbsoluteRequest","isAbsolute","value","add","relativeRequest","bundlePath","injectClientEntryAndSSRModules","entryName","absolutePagePath","APP_CLIENT_INTERNALS","size","warnOnce","injectActionEntry","actions","collectClientEntryDependencyMap","clientEntryDependencyMap","entry","entries","get","includeDependencies","getResolvedModule","finishModules","addedClientActionEntryList","tracked","has","clientActionImports","fromClient","Promise","all","afterOptimizeModules","cssImportsForChunk","cssManifest","collectModule","regexCSS","test","chunkGroups","chunkGroup","chunks","chunk","endsWith","join","chunkModules","chunkGraph","getChunkModulesIterable","anyModule","modules","concatenatedMod","entryCSSInfo","cssModules","cssImports","Object","assign","data","manifest","JSON","stringify","undefined","FLIGHT_SERVER_CSS_MANIFEST","sources","RawSource","invalidator","getInvalidator","outputPath","some","shouldInvalidate","invalidate","COMPILER_NAMES","map","addClientEntryAndSSRModules","visitedBySegment","clientComponentImports","CSSImports","filterClientComponents","dependencyToFilter","inClientComponentBoundary","rawRequest","isCSS","modRequest","query","storeKey","isClientComponent","isClientComponentModule","getActions","sideEffectFree","factoryMeta","unused","getExportsInfo","isModuleUsed","EDGE_RUNTIME_WEBPACK","Array","from","loaderOptions","server","clientLoader","importPath","sep","clientSSRLoader","getEntries","pageKey","getEntryKey","type","EntryTypes","CHILD_ENTRY","parentEntries","absoluteEntryFilePath","dispose","lastActiveTime","Date","now","entryData","clientComponentEntryDep","EntryPlugin","createDependency","addEntry","actionsArray","actionLoader","currentCompilerServerActions","p","id","generateActionId","workers","actionEntryDep","action","resolve","reject","call","addModuleTree","contextInfo","issuerLayer","err","module","failedEntry","succeedEntry","fullServerActions","json","SERVER_REFERENCE_MANIFEST"],"mappings":"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"}